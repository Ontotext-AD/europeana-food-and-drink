#Sesame server configuration
sesame.server=http://192.168.130.19:8087/openrdf-sesame
#repository.id=test
repository.id=efd

search.query=PREFIX : <http://www.ontotext.com/connectors/elasticsearch#>\n\
             PREFIX inst: <http://www.ontotext.com/connectors/elasticsearch/instance#>\n\
             PREFIX dct: <http://purl.org/dc/terms/>\n\
             PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n\
             PREFIX dc: <http://purl.org/dc/elements/1.1/>\n\
             SELECT distinct ?entity\n\
             (group_concat(distinct ?tit; separator=", ") as ?title)  \n\
             (group_concat(distinct ?desc; separator=", ") as ?description) \n\
             ?picture {  \n\
                 ?r a inst:efd_ind ;\n\
                     :query "title:{q}" ;\n\
                     :entities ?entity .\n\
                 ?entity edm:aggregatedCHO/dc:title ?tit;\n\
                     edm:aggregatedCHO/dc:description ?desc.\n\
                 {mediaType}\n\
                 optional{?entity  edm:object ?picture}\n\
                 optional{?entity  edm:aggregatedCHO/dc:date ?date}\n\
             } group by ?entity ?picture

facets.query=PREFIX : <http://www.ontotext.com/connectors/elasticsearch#>\n\
               PREFIX inst: <http://www.ontotext.com/connectors/elasticsearch/instance#>\n\
               PREFIX dct: <http://purl.org/dc/terms/>\n\
               PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n\
               PREFIX dc: <http://purl.org/dc/elements/1.1/>\n\
               SELECT distinct ?facetName ?facetValue ?facetCount {  \n\
                 ?r a inst:efd_facet3 ;\n\
                   :query "title:{q}" ;\n\
                       :entities ?entity ;\n\
                       :facetFields "dataProvider, language, provider, mediaType, article" ;\n\
                   	:facets _:f .\n\
                 		_:f :facetName ?facetName .\n\
                 		_:f :facetValue ?facetValue .\n\
                 		_:f :facetCount ?facetCount .\n\
               }

resource.aggregation.query=select * {\n\
                           	<OBJ> ?p ?o\n\
                           }


resource.cho.query=PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n\
                   select ?p ?o {\n\
                   	<OBJ> edm:aggregatedCHO ?s.\n\
                       ?s ?p ?o\n\
                   }


edm.details.template=PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n\
                     CONSTRUCT {\n\
                       ?s ?p ?o.\n\
                       ?s ?x ?y.\n\
                       ?a ?b ?s.\n\
                       ?a ?x1 ?y1.\n\
                     } WHERE {\n\
                       BIND(<$OBJ> as ?s)\n\
                       {?s ?p edm:ProvidedCHO; ?x ?y.} union\n\
                       {?a edm:aggregatedCHO ?s; ?x1 ?y1}\n\
                     } limit 100

edm.providedCHO=SELECT * {?s rdf:type <http://www.europeana.eu/schemas/edm/ProvidedCHO>}

cho.by.dataprovider=PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n\
                    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\
                    SELECT ?s {\n\
                                ?s rdf:type <http://www.europeana.eu/schemas/edm/ProvidedCHO>.\n\
                                ?aggregatedCHO  edm:aggregatedCHO ?s.\n\
                                ?aggregatedCHO  edm:dataProvider $PROVIDER@en.